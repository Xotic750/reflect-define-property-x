{"version":3,"sources":["../src/reflect-define-property-x.js"],"names":[],"mappings":"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","file":"reflect-define-property-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport assertIsObject from 'assert-is-object-x';\nimport $defineProperty from 'object-define-property-x';\nimport objectKeys from 'object-keys-x';\nimport arrayIncludes from 'array-includes-x';\nimport has from 'has-own-property-x';\nimport getOwnPropertyDescriptor from 'object-get-own-property-descriptor-x';\nimport some from 'array-some-x';\n\n/** @type {BooleanConstructor} */\nconst castBoolean = true.constructor;\n\nlet testObj = $defineProperty({}, 'test', {\n  configurable: true,\n  enumerable: true,\n  value: 'Testing',\n  writable: false,\n});\n\nlet res = attempt(() => {\n  testObj.test = true;\n});\n\nconst supportsWritable = res.threw || testObj.test === 'Testing';\n\ntestObj = $defineProperty({}, 'test', {\n  configurable: true,\n  enumerable: false,\n  value: 'Testing',\n  writable: true,\n});\n\nconst supportsEnumerable = arrayIncludes(objectKeys(testObj), 'test') === false;\n\ntestObj = $defineProperty({}, 'test', {\n  configurable: false,\n  enumerable: true,\n  value: 'Testing',\n  writable: true,\n});\n\nres = attempt(() => {\n  delete testObj.test;\n});\n\nconst supportsConfigurable = res.threw || testObj.test === 'Testing';\n\nconst toComparableDescriptor = function _toComparableDescriptor(desc) {\n  const descriptor = {};\n\n  if (supportsEnumerable) {\n    descriptor.enumerable = castBoolean(desc.enumerable);\n  }\n\n  if (supportsConfigurable) {\n    descriptor.configurable = castBoolean(desc.configurable);\n  }\n\n  if (has(desc, 'value')) {\n    descriptor.value = desc.value;\n  }\n\n  if (supportsWritable) {\n    descriptor.writable = castBoolean(desc.writable);\n  }\n\n  if (has(desc, 'get') || has(desc, 'set')) {\n    descriptor.get = desc.get;\n    descriptor.set = desc.set;\n  }\n\n  return descriptor;\n};\n\nconst areDescriptorsEqual = function _areDescriptorsEqual(actualObj, atributesObj, propertyKey) {\n  const actual = toComparableDescriptor(getOwnPropertyDescriptor(actualObj, propertyKey));\n  const requested = toComparableDescriptor(atributesObj);\n  const actualKeys = objectKeys(actual);\n\n  if (actualKeys.length !== objectKeys(requested).length) {\n    return false;\n  }\n\n  return (\n    some(actualKeys, (key) => {\n      return actual[key] !== requested[key];\n    }) === false\n  );\n};\n\n/**\n * This method allows precise addition to or modification of a property on an object.\n * For more details see the Object.defineProperty which is similar.\n * Object.defineProperty returns the object or throws a TypeError if the property\n * has not been successfully defined. Reflect.defineProperty, however, simply returns\n * a Boolean indicating whether or not the property was successfully defined.\n *\n * @param {*} target - The target object on which to define the property.\n * @param {*} propertyKey - The name of the property to be defined or modified.\n * @param {*} attributes - The attributes for the property being defined or modified.\n * @throws {TypeError} If target is not an Object.\n * @returns {object} A Boolean indicating whether or not the property was successfully defined.\n */\nconst defineProperty = function defineProperty(target, propertyKey, attributes) {\n  assertIsObject(target);\n  const result = attempt($defineProperty, target, propertyKey, attributes);\n\n  if (result.threw) {\n    return false;\n  }\n\n  return areDescriptorsEqual(result.value, attributes, propertyKey);\n};\n\nexport default defineProperty;\n"]}